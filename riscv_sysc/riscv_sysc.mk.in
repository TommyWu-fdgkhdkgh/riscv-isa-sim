riscv_sysc_subproject_deps = \
	fdt \
	fesvr \
	softfloat \
	disasm \
	riscv \

riscv_sysc_srcs = \
    iss_sysc.cc \
    $(riscv_sysc_gen_srcs) \

# *.a ( archive )
riscv_sysc_install_lib = yes

# *.so ( shared library )
riscv_sysc_install_shared_lib = yes

# ???
#riscv_sysc_install_pcs = yes

riscv_sysc_install_config_hdr = yes

riscv_sysc_test_srcs = \

# executable file
riscv_sysc_install_prog_srcs = \

riscv_sysc_install_hdrs = \
	iss_sysc.h \

# reuse the riscv_insn_list created in riscv.mk.in
riscv_sysc_gen_srcs = $(addsuffix _sysc.cc,$(riscv_insn_list))



# riscv_sysc_gen_srcs : e.g. vfadd_vf_sysc.cc
$(riscv_sysc_gen_srcs): insn_template_sysc.cc
	sed 's/NAME/$(subst _sysc.cc,,$@)/' $(src_dir)/riscv_sysc/insn_template_sysc.cc | sed 's/OPCODE/$(call get_opcode,$(src_dir)/riscv/encoding.h,$(subst _sysc.cc,,$@))/' > $@

riscv_sysc_junk = \
	$(riscv_sysc_gen_srcs) \
